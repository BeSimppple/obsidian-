***是一种模型概念,方便去理解网络的构建,不是一种规则***
#OSI网络模型
![[OSI七层网络模型_image_1.jpg|300]]  ![[OSI七层网络模型_image_2.jpg|390]]
某些技术或协议在逻辑上并非完全属于一个层,例如以太网(ethernet),802.11(wifi协议)和地址解析协议(ARP)并不知在一层上工作
所以OSI只是一个模型一个方便理解工具而非规则
-   **分层的原理是根据越抽象越高层**
-   **Please** | 物理层（Physical Layer）
	1. 包含[节点](常见术语.md)设备
	2. 网络硬件(组件网卡天线等)
	3. 设备接口(usb接口,hdmi接口等)
	4. 电缆协议和规范(最大电缆长度、调制技术、无线电规范、线路编码和位同步)电缆类型(屏蔽或非屏蔽双绞线、非双绞线、同轴电缆等)[详情](https://www.computernetworkingnotes.com/networking-tutorials/network-cable-types-and-specifications.html)
	5. 信号类型(单工,半全双工,全双工)[^1]
	6. 信号传输方式:  有线(电,光),无线(无线波)
	**总结**:物理层包含网络通信的基础设施,是远程通信成为可能的规范,第一层的数据单元是==bit==
-   **Do** | 数据链路层（Data Link Layer）
	1. 将来自上层的数据封装成帧(frame),透明传输,控制数据流量
	2. 定义了数据格式和传输方式,多大数据传输许可时间,第二层主要是检测第一层可能发生的错误(循环冗余校验CRC),但不是去纠正.
	3. 子层1(LLC Logical Link Control)逻辑链路控制
		1.  提供透明的数据传输和流量控制，使得网络层不需要知道底层的物理层细节。
		2.  提供可靠的数据传输服务，包括数据的确认、重传和流量控制等。
		3. 支持多路复用和分解，允许多个网络层协议共享同一个物理链路。
		4.  提供错误检测和纠正功能，确保数据的完整性和正确性。
		5. LLC子层通常使用一些协议来实现这些功能，最常用的是IEEE 802.2协议。该协议定义了LLC子层的格式和操作，包括数据帧的格式、帧的类型、帧的寻址,控制字段、信息字段等。
	4. 子层2(MAC Media Access Control)网卡硬件出厂时根据IEEE协议分配的
		1. 标识网络中的身份地址
		2. 多个设备共享一条物理链路,那么就需要mac地址控制数据访问顺序,例如以太网中使用的CSMA/CD（Carrier Sense Multiple Access with Collision Detection）如果多个设备同时发送数据导致碰撞，它们会根据自己的MAC地址进行退避，等待再发送
	**总结**:数据链路层允许局域网节点链接并对数据流量设置了规范和排错  ,第二层的数据单元是==帧==(frame)[^2]
-   **Not** | 网络层（Network Layer）
	路由器(route)是第三层主力,
	1. 链接到了ISP(Internet Service Providers)
	2. 记录网络中每个节点的MAC地址到路由表中
	3. 一旦一个节点链接到了网络就会通过地址解析协议ARP解析机械的MAC为对应的一个地址(ARP第二层就存在但是在第三层有地址信息才开始解析)
	4. 特点:网络层的数据是无连接的,尽力传输数据不保证接收和处理任何协议
	![[OSI七层网络模型_image_3.png|300]]
	**总结**:网络层将帧数据进行封装成==数据包==(database),数据包中包括帧信息和寻址信息
-   **Tell** （the）| 传输层（Transport Layer） 
	包含著名的TCP协议和UDP协议,其中TCP传输的是数据包(packet)防止一次发送大量数据造成拥堵,且能通过握手协议保证信息接收和安全,UDP则是传输数据报(datagram)且无法保证传输顺序
	IP 地址和端口号的组合被称为套接字（#socket）
	1. 线路规程、流量控制和错误控制。该层还负责数据包分段，或者数据包如何分解并通过网络发送。
	**总结:** 传输层主要指通过协议实现两个节点间的信息控制(分段接收,屏蔽,分流等),该层数据单位为==Segment==
-   **Secret** | 会话层（Session Layer）
	该层已经是在上述层关于节点链接完善的基础上实现的 网络"会话(session)"通信
	常用模型包括C/S模型B/S模型    会话超时或未连接等被视为会话层问题
	**总结:** 负责会话的建立、维持和终止会话
-   **Password** （to）| 表示层（Presentation Layer）
	1. 负责数据的格式，比如字符编码与转换，以及数据加密.
	2. 保证用户程序可以成功地消费数据
	常用格式包括 ASCII   UTF-8   等
	常用加密协议包括.SSL  TSL  (网络上的节点提供身份认证和数据加密功能)
	**总结:** 该层是在数据完成了交换传输开始会话的基础上以一种人类语言格式表达
-   **Anyone** | 应用层（Application Layer）
	顾名思义，这一层最终负责支持用户程序使用的服务,应用程序可以在后台执行专门的网络功能，也可以要求第七层中专门的服务
	这一层中运行的协议包括文件传输协议（FTP，File Transfer Protocol）、安全壳协议（SSH，Secure Shell）、简单邮件传输协议（SMTP，Simple Mail Transfer Protocol）、因特网消息访问协议（IMAP，Internet Message Access Protocol）、域名服务（DNS，Domain Name Service）和超文本传输协议（HTTP，Hypertext Transfer Protocol）。
	**总结:** 应用层及应用程序的调用


## 其他知识点:
1. OSI各层上的协议
	物理层：RJ45、CLOCK、IEEE802.3 
	链路层：PPP、FR、HDLC、VLAN、MAC 
	网络层：IP、IPX、OSFP、RIP、IGRP、ICMP、ARP、RARP 
	传输层：TCP、UDP、SPX 
	会话层：NFS、SQL、NETBIOS、RPC 
	表示层：JPEG、MPEG、ASLL 
	应用层：TELNET、HTTP、FTP、WWW、SMTP
2. 相邻层间交换的数据单元称之为服务数据单元，其英文缩写为SDU(Service Data Unit)。
3. **ip数据报分片和重组**
	**ip数据报**:
	IP数据报是在互联网上传输的基本数据单元，每个IP数据报都有一个固定的最大长度，也就是MTU（最大传输单元）。当一份数据超过MTU的长度时，IP协议会将它分成若干个较小的数据块，这个过程就叫做分片。分片后的每个数据块都会被封装成一个新的IP数据报进行传输。
	ip数据报最大长度:64K字节(65535)
	**分片目的**:
	不同的网络设备和链路都有各自的MTU，如果数据包的大小超过了某个设备或链路的MTU，那么这个数据包就无法通过这个设备或链路进行传输
	**何时分片和重组,如何重组**:
	IP数据报的分片和重组是在网络层(终端或路由器)进行的，而不是在传输层或应用层进行的。
	IP数据报重组是指在接收端将分片后的数据块重新组装成完整的数据包的过程。当接收端收到一个分片后的IP数据报时，它会根据IP头中的标识符、片偏移和标志位等信息，将这些数据块按照正确的顺序进行重组，最终得到原始的完整数据包。如果重组失败，接收端会向发送端发送一个ICMP差错报文，告诉发送端数据包重组失败的原因。
无线网发送速率算法:
	**利用率**=（数据帧发送时间）/ （数据帧发送时间+2*传播时延+处理时延+确认帧发送时间）
	约等于   （数据帧发送时间）/ （数据帧发送时间+2*传播时延）  （根据已知条件，只能算出数据帧发送时间和传播时延）
	**发送速率** = 有效数据包大小 / (重传时间 + 传输时间)
	其中，有效数据包大小是指除去冗余和控制信息后的数据包大小，重传时间是指在发生丢包时等待重传的时间，传输时间是指数据包从发送端到接收端的传输时间。


发送邮件和接收邮件使用哪些协议
	发送邮件通常使用 SMTP 协议，而接收邮件通常使用 POP3 协议














[^1]:比特是可传输数字信息的最小单元。比特是二进制的，要么为 0 要么为 1。字节（byte）由八个比特组成，用于表示单个字符，比如字母、数字或符号。根据硬件设备支持的数据速率（传输速率，每秒或每毫秒的比特数量），比特被发送到硬件设备或从设备发出。这个过程是同步的，从而保持单位时间内发送和接收比特的数量相等（这被称为比特同步）。比特的传输方式由信号的传输方式决定。节点可以发送比特、接收比特，或者收发兼顾。如果节点只能收或只能发，那么该节点采用的就是单工模式。如果节点既可以收又可以发，那么该节点采用的就是双工模式。如果一个节点可以同时进行收发操作，那么它就是全双工的，否则就是半双工的。最初的以太网是半双工的。如果采用了正确的设备，现在也可以选择全双工的以太网。

[^2]:帧是网络通信中的基本单位,网络中数据被分成XX帧份,每一帧都包括一个帧头、主体和一个帧尾：  帧头：通常包括源节点和目的节点的 MAC 地址。主体：由要传输的比特组成。 帧尾：包括错误检测信息。当检测到错误时，根据实现或网络的配置或协议，帧可能被丢弃，或者错误会被报告给上面的层，用于进一步错误校正。例如，错误检测机制的有循环冗余校验（CRC，Cyclic Redundancy Check）和帧校验序列（FCS，Frame Check Sequence）。[从这里了解更多有关错误检测技术的信息](http://www.msc.uky.edu/ken/cs471/notes/chap5.htm)。帧的大小有最大值称为最大传输单元(Maximum Transmission Unit)巨型帧大小超过了标准的MTU







