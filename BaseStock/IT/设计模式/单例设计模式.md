单例设计模式

作用及=:保证类在内存中只有一个对象.

恶汉式和懒汉式 饿汉式就是双检索式单例 使用sync和voliate参数实现多线程线程安全的单例 （切记不要在方法上加sync锁而在方法内加这样节省运行同步效率）

//1,私有化构造方法

//2.在在本类中声明对象,并使用private 和static进行修饰

//3.对外提供公共访问方法

原理:

饿汉式单例设计模式

1.私有化构造器,然后提供一个私有的本来对象

2.提供一个get方法使其可以访问到这被私有的本类对象

懒汉式单例设计模式

1.私有化构造器,然后提供一个私有化本类对象(并未被实例化)

2.提供一个get方法,进行判断如果本来对象为null代表还未实例化,则创建一个本来对象,如果不为null则代表已经被实例化,则返回该对象

恶汉与懒汉的区别

恶汉式线程安全,不支持懒加载(以时间换空间)

懒汉式线程不安全,支持懒加载(以空间换时间)

  

这两者都有升级的版本

//本来直接一步类名 变量名 = new 类名();构造

//但是这样能创建无数个对象现在为了确保单例设计模式

//私有化了构造方法的创建

//然后需要提供一个创建构造的mySingleClass内部成员变量

//但是这样可以被人为重新设定null值,会破坏单例设计模式,不安全

//直接访问成员变量不安全

//所以私有化了成员变量,但是这样就外界无法访问了

//所以再创建一个成员方法getInstance来返回instance值

//最终方法,确保其单例设计模式

枚举:

  

本质:多例实现