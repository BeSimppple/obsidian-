## 过滤器Filter
**Filter作用和原理:**
	**作用:** 在请求前/后对资源进行处理
	**特性:**
	1.过滤器可以有多个，串联起来形成一条过滤链
	2.通过web.xml轻松地配置过滤器的拦截范围
	3.可以在请求达到Servlet前对Request和Response对象进行修改，使请求和响应满足一定的规范
	4.过滤器和Servlet一样都是基于 Java 的 Web 组件，由Servlet容器进行管理(Servlet容器的生命周期是比Spring容器更早&更久，所以Spring容器中的Bean是无法注入到过滤器Filter中使用的。这个特性也直接导致Filter一般主要用来对请求和响应进行处理)
	**原理:** 
	基于函数回调的

Filter生命周期
	1.随着服务器的启动而初始化
	2.随着请求的发生而过滤
	3.随着服务器的关闭而销毁
执行流程:
	1.浏览器发起请求
	2.服务器会根据这个请求，创建request对象及response对象
	3.过滤器会持有request对象及response对象
	4.只有当过滤器放行之后，request对象及response对象才会传给Serlvet
**过滤器链和拦截器(interceptor)的区别**
	![[过滤器,拦截器,监听器_image_1.jpg|350]]
	1、**实现原理不同** 
		过滤器 是基于函数回调的
		拦截器 则是基于Java的反射机制（动态代理）实现的。
	2、**使用范围不同** 
		过滤器 实现的是 javax.servlet.Filter 接口，而这个接口是在Servlet规范中定义的，也就是说过滤器Filter 的使用要依赖于Tomcat等容器，导致它只能在web程序中使用。 
		而拦截器(Interceptor) 它是一个Spring组件，并由Spring容器管理，并不依赖Tomcat等容器，是可以单独使用的。不仅能应用在web程序中，也可以用于Application、Swing等程序中。
	3、**触发不同(时机和次数)** 
		过滤器Filter是在请求进入容器后，但在进入servlet之前进行预处理，请求结束是在servlet处理完以后。                        分别只能触发一次
		拦截器 Interceptor 是在请求进入servlet后，在进入Controller之前进行预处理的，Controller 中渲染了对应的视图之后请求结束。         可以多次触发
	4、**拦截的请求范围不同** 
		过滤器Filter执行了两次，拦截器Interceptor只执行了一次。这是因为过滤器几乎可以对所有进入容器的请求起作用，而拦截器只会对Controller中请求或访问static目录下的资源请求起作用。
	5、**注入Bean情况不同** 
		这是因为加载顺序导致的问题，拦截器加载的时间点在springcontext之前，而Bean又是由spring进行管理。
	6、**控制执行顺序不同**
		 过滤器用@Order注解控制执行顺序，通过@Order控制过滤器的级别，值越小级别越高越先执行。 拦截器默认的执行顺序，就是它的注册顺序，也可以通过Order手动设置控制，值越小越先执行

过滤器实现:
	1.实现javax.servlet.Filter接口，并实现接口的三个方法
		**init(FilterConfig filterConfig)**  该方法在容器启动初始化过滤器时被调用，它在 `Filter` 的整个生命周期只会被调用一次
		**doFilter(ServletRequest request, ServletResponse response, FilterChain chain)**
			FilterChain对象，表示下一个拦截链的对象。在调用此对象的doFilter方法时，激活下一个相关的过滤器。如果没有另一个过滤器与servlet或JSP页面关联，则servlet或JSP 页面被激活
		**destroy()** 只会被调用一次
	2.在web.xml中配置过滤器
	3.进行请求和响应的处理。
过滤器执行顺序设置
	通过@Order(数字越小越先执行)注解设置

过滤器相关配置
	初始化参数,
	过滤路径:根据访问路径过滤
		1.完全匹配 : 以"/"开头
		2.目录匹配 : 以"/"开头，以"*"结尾
		3.后缀名匹配 : 以"*"开头，以后缀名结尾
	也可以根据过滤的servlet名称进行过滤
	过滤器的注解开发
	WebInitParam[] initParams() default {};//初始化参数
	等
	可以使用过滤器的特性,进行编解码格式的设置

---
## 拦截器interceptor
**作用和原理**
	**作用:** 实现和过滤器可以实现的所有功能,并且能在非web项目中运行和实现多次拦截
	**特性:**
	1.拦截器Interceptor是由Spring管理，存于Spring IOC容器一种组件，也是Spring AOP面向切面编程的一种实现
	2.拦截器生命周期是由Spring控制是可以注入Spring IOC容器作为Bean进行业务处理的
	3.拦截器可以对静态资源的请求进行拦截处理。
	**原理:**
	拦截器是基于动态代理、使用反射机制来实现的
	可以在任务执行前,中,后进行操作

拦截器实现
	
拦截器执行顺序
	


---
## 监听器(Listener)
概述:
1.事件源：事件发生的源头
2.监听器：事件发生后被触发的组件
3.事件：能够触发监听器的事
4.绑定：将事件源和监听器关联
servlet监听器(具体)
事件源：三大域对象
监听器：三类监听器
事件：域对象发生改变
绑定：在web.xml中配置监听器
监听器分类
一类监听器
-   监听域对象的创建、销毁
二类监听器
-   监听域对象中的属性的变更（属性添加、属性修改、属性移除）
三类监听器
-   监听域对象中的对象状态改变（对象绑定、对象解绑）
三类监听器很特殊,可以直接在对象中实现三类监听器(然后重写方法完善解绑和绑定状态时的方法)




